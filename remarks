1) ти іноді повертаєш вхідну строку а іноді нову - не зрозуміло чи повинен клієнт її звільняти 
2) реелокація occ_pos зайва
